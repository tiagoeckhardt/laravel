
language: php

os:
  - linux

sudo: required
dist: trusty

services:
  - mysql

addons:
  apt:
    packages:
    - mysql-server
    - mysql-client
    - libboost-dev
    steps:
      - name: Test
        run: - composer install
             - cp .env.example .env
             - php artisan key:generate
             - composer require --dev laravel/dusk
             - php artisan dusk:chrome-driver
             - cp .env.example .env
             - mysql --user="root" --password="root" -e "CREATE DATABASE laravel;"
             - google-chrome-stable --headless --disable-gpu --remote-debugging-port=9222 http://localhost &
             - php artisan serve &
             - php artisan dusk
             - php vendor/bin/phpunit --coverage-text --colors=never 
